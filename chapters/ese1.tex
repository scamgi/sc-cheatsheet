%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% chapters/ese1.tex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Esercizio 1: Analisi di Segnali}

\section{Definizione della Trasformata di Fourier (FT)}

La Trasformata di Fourier (FT) di un segnale $x(t)$ è definita come:
\begin{equation*}
    X(f) = \mathcal{F}\{x(t)\} = \int_{-\infty}^{\infty} x(t) e^{-j2\pi f t} \,dt
\end{equation*}

L'Anti-trasformata di Fourier (IFT) di $X(f)$ è definita come:
\begin{equation*}
    x(t) = \mathcal{F}^{-1}\{X(f)\} = \int_{-\infty}^{\infty} X(f) e^{j2\pi f t} \,df
\end{equation*}

\section{Proprietà della Trasformata di Fourier}
Di seguito sono riassunte le principali proprietà della Trasformata di Fourier in una tabella.

\begin{table}[h!]
\centering
\caption{Proprietà della Trasformata di Fourier.}
\label{tab:ft_properties}
\begin{tabular}{lll}
    \toprule
    \textbf{Proprietà} & \textbf{Dominio del Tempo} & \textbf{Dominio della Frequenza} \\
    \midrule
    Linearità & $a x(t) + b y(t)$ & $a X(f) + b Y(f)$ \\
    \addlinespace
    Traslazione nel Tempo & $x(t - t_0)$ & $X(f) e^{-j2\pi f t_0}$ \\
    \addlinespace
    Modulazione & $x(t) e^{j2\pi f_0 t}$ & $X(f - f_0)$ \\
    \addlinespace
    Convoluzione & $x(t) * y(t)$ & $X(f) \cdot Y(f)$ \\
    \addlinespace
    Moltiplicazione & $x(t) \cdot y(t)$ & $X(f) * Y(f)$ \\
    \addlinespace
    Dualità & $X(t)$ & $x(-f)$ \\
    \addlinespace
    Derivazione nel Tempo & $\dfrac{d^n x(t)}{dt^n}$ & $(j2\pi f)^n X(f)$ \\
    \bottomrule
\end{tabular}
\end{table}


\section{Proprietà Fondamentali dell'Impulso di Dirac (Sifting)}

\begin{table}[h!]
\centering
\caption{Proprietà della Funzione Impulso di Dirac ($\delta(t)$).}
\label{tab:dirac_properties}
\begin{tabular}{ll}
    \toprule
    \textbf{Proprietà} & \textbf{Formula Matematica} \\
    \midrule
    Area Unitaria & $\int_{-\infty}^{\infty} \delta(t) \,dt = 1$ \\
    \addlinespace
    Campionamento (Sifting) & $\int_{-\infty}^{\infty} f(t) \delta(t-t_0) \,dt = f(t_0)$ \\
    \addlinespace
    Prodotto & $f(t)\delta(t-t_0) = f(t_0)\delta(t-t_0)$ \\
    \addlinespace
    Scaling & $\delta(at) = \frac{1}{|a|} \delta(t)$ \\
    \addlinespace
    Simmetria (Pari) & $\delta(t) = \delta(-t)$ \\
    \addlinespace
    Convoluzione & $f(t) * \delta(t-t_0) = f(t-t_0)$ \\
    \addlinespace
    Derivata del Gradino & $\frac{d}{dt}u(t) = \delta(t)$ \\
    \addlinespace
    Trasformata di Fourier & $\FT\{\delta(t)\} = 1$ \\
    \bottomrule
\end{tabular}
\end{table}

Queste proprietà sono cruciali per la manipolazione dei segnali.

\subsection*{Nel Dominio del Tempo}
\begin{itemize}
    \item \textbf{Convoluzione (Proprietà di Traslazione):} La convoluzione di un segnale con un delta traslato sposta il segnale originale:
    \begin{equation*}
        x(t) * \delta(t-t_0) = x(t-t_0)
    \end{equation*}
    
    \item \textbf{Prodotto (Proprietà di Campionamento):} Il prodotto per un delta traslato "campiona" il segnale nel punto $t_0$, risultando in un delta scalato dal valore della funzione in quel punto:
    \begin{equation*}
        x(t) \cdot \delta(t-t_0) = x(t_0) \delta(t-t_0)
    \end{equation*}
\end{itemize}

\subsection*{Nel Dominio della Frequenza}
\begin{itemize}
    \item \textbf{Convoluzione (Proprietà di Traslazione):} La convoluzione di una trasformata $X(f)$ con un delta traslato $\delta(f-f_0)$ sposta la trasformata originale. Questa è un'altra manifestazione della proprietà di modulazione.
    \begin{equation*}
        X(f) * \delta(f-f_0) = X(f-f_0)
    \end{equation*}
    
    \item \textbf{Prodotto (Proprietà di Campionamento):} Il prodotto di una trasformata $X(f)$ con un delta $\delta(f-f_0)$ "campiona" la trasformata nella frequenza $f_0$.
    \begin{equation*}
       X(f) \cdot \delta(f-f_0) = X(f_0) \delta(f-f_0)
    \end{equation*}
\end{itemize}


\section{Relazioni di Eulero}
Le formule di Eulero sono fondamentali per scomporre segnali sinusoidali e cosinusoidali:
\begin{align*}
    \cos(\theta) &= \frac{e^{j\theta} + e^{-j\theta}}{2} \\
    \sin(\theta) &= \frac{e^{j\theta} - e^{-j\theta}}{2j}
\end{align*}
Queste permettono di applicare la proprietà di modulazione a segnali come $\cos(2\pi f_0 t)$ e $\sin(2\pi f_0 t)$.

\section{Coppie Notevoli di Trasformate di Fourier}

\begin{center}
\begin{tabular}{c c}
    \toprule
    \textbf{Segnale nel Tempo $x(t)$} & \textbf{Trasformata di Fourier $X(f)$} \\
    \midrule
    $\rect\left(\frac{t}{T}\right)$ & $T \sinc(fT)$ \\
    \addlinespace
    $T \sinc(tT)$ & $\rect\left(\frac{f}{T}\right)$ \\
    \addlinespace
    $\tri\left(\frac{t}{T}\right)$ & $T \sinc^2(fT)$ \\
    \addlinespace
    $T \sinc^2(tT)$ & $\tri\left(\frac{f}{T}\right)$ \\
    \addlinespace
    $\delta(t)$ & $1$ \\
    \addlinespace
    $1$ & $\delta(f)$ \\
    \addlinespace
    $e^{j2\pi f_0 t}$ & $\delta(f - f_0)$ \\
    \addlinespace
    $\cos(2\pi f_0 t)$ & $\frac{1}{2}\left[\delta(f - f_0) + \delta(f + f_0)\right]$ \\
    \addlinespace
    $\sin(2\pi f_0 t)$ & $\frac{1}{2j}\left[\delta(f - f_0) - \delta(f + f_0)\right]$ \\
    \addlinespace
    $e^{-at} u(t), \quad a>0$ & $\dfrac{1}{a + j2\pi f}$ \\
    \addlinespace
    $e^{-\pi t^2}$ (Gaussiana) & $e^{-\pi f^2}$ (Gaussiana) \\
    \bottomrule
\end{tabular}
\end{center}

\subsection*{Definizioni e Grafici delle Funzioni Base in Frequenza}
\begin{itemize}
    \item \textbf{Funzione Rettangolo (Trasformata di $T \sinc(tT)$):}
    \begin{equation*}
        \rect\left(\frac{f}{T}\right) = 
        \begin{cases} 
            1 & \text{per } |f| < T/2 \\
            1/2 & \text{per } |f| = T/2 \\
            0 & \text{altrove}
        \end{cases}
    \end{equation*}
    
    \begin{figure}[h!]
        \centering
        \begin{tikzpicture}
            \def\T{1.5} % Valore di T per il disegno
            \begin{axis}[
                axis lines=middle,
                xlabel=$f$,
                ylabel={$y$},
                title={Funzione Rettangolo $\rect(f/T)$},
                xmin=-2, xmax=2,
                ymin=-0.2, ymax=1.2,
                enlargelimits=false,
                ytick={0, 0.5, 1},
                xtick={\T/2, -\T/2},
                xticklabels={$T/2$, $-T/2$},
            ]
            \addplot[blue, thick, const plot] coordinates {(-2,0) (-\T/2,0) (-\T/2,1) (\T/2,1) (\T/2,0) (2,0)};
            \addplot[only marks, mark=*, blue, mark size=1.5pt] coordinates {(-\T/2,0.5) (\T/2,0.5)};
            \end{axis}
        \end{tikzpicture}
    \end{figure}
    
    \item \textbf{Funzione Seno Cardinale (Trasformata di $\rect(t/T)$):}
    \begin{equation*}
       T \sinc(fT) = T \frac{\sin(\pi f T)}{\pi f T}
    \end{equation*}

    \begin{figure}[h!]
        \centering
        \begin{tikzpicture}
            \def\T{1.5} % Valore di T per il disegno
            \begin{axis}[
                axis lines=middle,
                xlabel=$f$,
                ylabel={$y$},
                title={Funzione Seno Cardinale $T\sinc(fT)$},
                xmin={-4/\T}, xmax={4/\T},
                ymin={-0.3*\T}, ymax={1.2*\T},
                enlargelimits=false,
                samples=201,
                grid=major,
                xtick={-2/\T, -1/\T, 1/\T, 2/\T},
                xticklabels={$-2/T$, $-1/T$, $1/T$, $2/T$},
                ytick={\T},
                yticklabels={$T$},
            ]
            \addplot[blue, thick, smooth, domain={-4/\T}:{4/\T}] {\T*sin(deg(pi*x*\T))/(pi*x*\T)};
            \addplot[only marks, mark=*, blue, mark size=1.5pt] coordinates {(0,\T)};
            \end{axis}
        \end{tikzpicture}
    \end{figure}

    \item \textbf{Funzione Triangolo (Trasformata di $T \sinc^2(tT)$):}
    \begin{equation*}
        \tri\left(\frac{f}{T}\right) = 
        \begin{cases} 
            1 - |f/T| & \text{per } |f| < T \\
            0 & \text{altrove}
        \end{cases}
    \end{equation*}
    
    \begin{figure}[h!]
        \centering
        \begin{tikzpicture}
            \def\T{1.5} % Valore di T per il disegno
            \begin{axis}[
                axis lines=middle,
                xlabel=$f$,
                ylabel={$y$},
                title={Funzione Triangolo $\tri(f/T)$},
                xmin={-1.5*\T}, xmax={1.5*\T},
                ymin=-0.2, ymax=1.2,
                enlargelimits=false,
                grid=major,
                xtick={-\T, \T},
                xticklabels={$-T$, $T$},
            ]
            \addplot[blue, thick] coordinates {(-1.5*\T,0) (-\T,0) (0,1) (\T,0) (1.5*\T,0)};
            \end{axis}
        \end{tikzpicture}
    \end{figure}

\end{itemize}

% TODO: ADD HOW TO PRINT GRAFICI MODULO E FASE

% TODO: ADD THE LAST PART ON how to compute uscita del sistema con x(t).